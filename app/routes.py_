from flask import Blueprint, render_template, request
from app.utils import valida_endereco_google

main_routes = Blueprint('main', __name__)

@main_routes.route('/')
def home():
    return render_template('home.html')

@main_routes.route('/preview', methods=['POST'])
def preview():
    enderecos = request.form.get('enderecos', '').split('\n')
    resultados = [valida_endereco_google(addr) for addr in enderecos if addr.strip()]
    return render_template('preview.html', resultados=resultados)